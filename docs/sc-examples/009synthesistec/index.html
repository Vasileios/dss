<!DOCTYPE html>
<html>
  <head>
    <title>Ψηφιακή Σύνθεση Ήχου</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="generator" content="Hugo 0.45.1" />
<title>Sound synthesis techniques :: Ψηφιακή Σύνθεση Ήχου</title>
<link rel="shortcut icon" href="/dss/images/favicon.png" type="image/x-icon" />
<link href="/dss/css/font-awesome.min.css" rel="stylesheet">
<link href="/dss/css/nucleus.css" rel="stylesheet">
<link href="/dss/theme-flex/style.css" rel="stylesheet">

<link rel="stylesheet" href="/dss/css/bootstrap.min.css">
<script src="/dss/js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "\/\/vasileios.github.io\/dss\/";
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-79101-13', 'auto');
  ga('send', 'pageview');

</script>
    
  </head>
  <body data-url="/dss/sc-examples/009synthesistec/">
    
      <header>
  <div class="logo">
    
	
  
    <a class="baselink" href="//vasileios.github.io/dss/">Ψηφιακή Σύνθεση Ήχου</a>
  

  </div>
  <div class="burger"><a href="javascript:void(0);" style="font-size:15px;">&#9776;</a></div>
    <nav class="shortcuts">
            <li class="" role="">
                <a href="/dss/"  rel="noopener">
                  <i class='fa fa-fw fa-bullhorn'></i> Credits
                </a>
            </li>
    </nav>
</header>
<article>
  <aside>
    <ul class="menu">
          <li data-nav-id="/dss/" class="dd-item">
          <a href="/dss/">
            <i class="fa fa-fw fa-home"></i>
          </a>
          </li>
    <li data-nav-id="/dss/introduction/" class="dd-item haschildren
        ">
      <div>
      <a href="/dss/introduction/"><b>1. </b>Θεωρία</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/dss/introduction/history/" class="dd-item">
        <div>
          <a href="/dss/introduction/history/">
            Ιστορία
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/dss/introduction/soundtheory/" class="dd-item">
        <div>
          <a href="/dss/introduction/soundtheory/">
            Sound theory basics
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/dss/introduction/tuning_scales/" class="dd-item">
        <div>
          <a href="/dss/introduction/tuning_scales/">
            Κλίμακες και Χορδίσματα
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/dss/introduction/notation/" class="dd-item">
        <div>
          <a href="/dss/introduction/notation/">
            Notation
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/dss/introduction/logicalex/" class="dd-item">
        <div>
          <a href="/dss/introduction/logicalex/">
            Logical Expressions
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/dss/introduction/glossary/" class="dd-item">
        <div>
          <a href="/dss/introduction/glossary/">
            Glossary
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/dss/introduction/references/" class="dd-item">
        <div>
          <a href="/dss/introduction/references/">
            References
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/dss/sc-examples/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/dss/sc-examples/"><b>2. </b>Εργαστήριο</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/dss/sc-examples/001supercollider/" class="dd-item">
        <div>
          <a href="/dss/sc-examples/001supercollider/">
            SuperCollider
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/dss/sc-examples/002oscillators/" class="dd-item">
        <div>
          <a href="/dss/sc-examples/002oscillators/">
            Oscillators
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/dss/sc-examples/003aperiodicsources/" class="dd-item">
        <div>
          <a href="/dss/sc-examples/003aperiodicsources/">
            Noise
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/dss/sc-examples/004filters/" class="dd-item">
        <div>
          <a href="/dss/sc-examples/004filters/">
            Filters
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/dss/sc-examples/005distortion/" class="dd-item">
        <div>
          <a href="/dss/sc-examples/005distortion/">
            Distortion
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/dss/sc-examples/006delays/" class="dd-item">
        <div>
          <a href="/dss/sc-examples/006delays/">
            Delays
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/dss/sc-examples/007spectral/" class="dd-item">
        <div>
          <a href="/dss/sc-examples/007spectral/">
            Spectral
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/dss/sc-examples/008granularsynthesis/" class="dd-item">
        <div>
          <a href="/dss/sc-examples/008granularsynthesis/">
            Granular Synthesis
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/dss/sc-examples/009synthesistec/" class="dd-item active">
        <div>
          <a href="/dss/sc-examples/009synthesistec/">
            Sound synthesis techniques
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>




    </ul>
    <section><center>

<a class="github-button" href="https://github.com/vjeantet/hugo-theme-docdock/archive/master.zip" data-icon="octicon-cloud-download" aria-label="Download vjeantet/hugo-theme-docdock on GitHub">Download</a>


<a class="github-button" href="https://github.com/vjeantet/hugo-theme-docdock" data-icon="octicon-star" data-show-count="false" aria-label="Star vjeantet/hugo-theme-docdock on GitHub">Star</a>


<a class="github-button" href="https://github.com/vjeantet/hugo-theme-docdock/fork" data-icon="octicon-repo-forked" data-show-count="true" aria-label="Fork vjeantet/hugo-theme-docdock on GitHub">Fork</a>

</center>

<script async defer src="https://buttons.github.io/buttons.js"></script>
    </section>
  </aside>
  <section class="page">
    
    <div class="nav-select">
      <center>Navigation : 
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/dss/introduction/" >
   Θεωρία</option>
    <option value="/dss/sc-examples/" >
   Εργαστήριο</option> 
      <option value="/dss/sc-examples/001supercollider/" >- SuperCollider</option>
      <option value="/dss/sc-examples/002oscillators/" >- Oscillators</option>
      <option value="/dss/sc-examples/003aperiodicsources/" >- Noise</option>
      <option value="/dss/sc-examples/004filters/" >- Filters</option>
      <option value="/dss/sc-examples/005distortion/" >- Distortion</option>
      <option value="/dss/sc-examples/006delays/" >- Delays</option>
      <option value="/dss/sc-examples/007spectral/" >- Spectral</option>
      <option value="/dss/sc-examples/008granularsynthesis/" >- Granular Synthesis</option>
      <option value="/dss/sc-examples/009synthesistec/"  selected>- Sound synthesis techniques</option>
  



        </select>
      </center>
    </div>
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="">
        </div>
        <script type="text/javascript" src="/dss/js/lunr.min.js"></script>
        <script type="text/javascript" src="/dss/js/auto-complete.js"></script>
        <link href="/dss/css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "\/\/vasileios.github.io\/dss\/";
          
        </script>
        <script type="text/javascript" src="/dss/js/search.js"></script>
      </div>
    

    <h1>Sound synthesis techniques</h1>
    
    
    
    <h3 id="chapter-2">chapter 2</h3>

<h4 id="sound-synthesis-techniques-methods">Sound synthesis techniques-methods</h4>

<p><strong>Spectral</strong></p>

<ul>
<li>Additive</li>
<li>Phase Vocoder</li>
<li>FFT</li>
</ul>

<p><strong>Abstract</strong></p>

<ul>
<li>FM</li>
<li>Waveshaping</li>
</ul>

<p><strong>Sampling</strong></p>

<ul>
<li>Sampling</li>
<li>Granular</li>
</ul>

<p><strong>Physical</strong></p>

<ul>
<li>Modal</li>
<li>Waveguide</li>
</ul>

<h4 id="additive-synthesis">Additive synthesis</h4>

<p>Additive synthesis is a method in which a composite waveform is formed by summing sinusoidal components, for example, harmonics of a tone, to produce a sound (Moorer 1985). In additive synthesis, three control functions are needed for every sinusoidal oscillator: the amplitude, frequency and phase of each component. In many cases the phase is left out and only the amplitude and frequency functions are used (Tolonen et al. 1998).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">/* Sound Synthesis techniques
</span><span style="color:#75715e">BA 181902
</span><span style="color:#75715e">Objective: create complex sounds using additive synthesis technique
</span><span style="color:#75715e">// Additive Synthesis
</span><span style="color:#75715e">a+b+c+d
</span><span style="color:#75715e">where a to d  can be frequencies or any other object such as a waveform
</span><span style="color:#75715e">*/</span>

<span style="color:#75715e">// firts boot the internal server and open Freqscope and Stethoscope
</span><span style="color:#75715e"></span>
<span style="color:#a6e22e">s</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Server</span>.<span style="color:#a6e22e">internal</span>;
<span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">boot</span>
<span style="color:#a6e22e">Stethoscope</span>.<span style="color:#66d9ef">new</span>
<span style="color:#a6e22e">FreqScope</span>.<span style="color:#66d9ef">new</span>

<span style="color:#75715e">//create harmonics of a 440Hz A note
</span><span style="color:#75715e"></span>
{<span style="color:#a6e22e">SinOsc</span>.<span style="color:#a6e22e">ar</span>([<span style="color:#ae81ff">440</span>, <span style="color:#ae81ff">880</span>, <span style="color:#ae81ff">880</span><span style="color:#f92672">*</span><span style="color:#ae81ff">3</span><span style="color:#960050;background-color:#1e0010">/2, 1600*4/3, 2000], 0, [0.6, 0.1, 0.09, 0.08, 0.09])}.play//or .scope</span>

<span style="color:#75715e">//Using Mix.ar, kr(). Sum an array of channels.
</span><span style="color:#75715e"></span>
(
<span style="color:#75715e">//This example is from The SuperCollider Book (Wilson, 2011 p.37)
</span><span style="color:#75715e"></span>{

	<span style="color:#a6e22e">Mix</span>.<span style="color:#a6e22e">ar</span>(
	Array.<span style="color:#a6e22e">fill</span>(<span style="color:#ae81ff">12</span>,
		{<span style="color:#f92672">|</span><span style="color:#a6e22e">count</span><span style="color:#f92672">|</span>
		<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">harm</span>;
		<span style="color:#a6e22e">harm</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">count</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">110</span>; <span style="color:#75715e">// remeber precedence: count + 1, then * 110
</span><span style="color:#75715e"></span>			<span style="color:#a6e22e">SinOsc</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#a6e22e">harm</span>, <span style="color:#a6e22e">mul</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">max</span>(<span style="color:#ae81ff">0</span>,  <span style="color:#a6e22e">SinOsc</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#a6e22e">count</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span><span style="color:#960050;background-color:#1e0010">/4))</span>
			)<span style="color:#f92672">*</span><span style="color:#ae81ff">1</span><span style="color:#960050;background-color:#1e0010">/(count+1)</span>
})

)<span style="color:#f92672">*</span><span style="color:#ae81ff">0.7</span>


}.<span style="color:#a6e22e">play</span>;
)


<span style="color:#75715e">//Add also different waveforms i.e sawtooth waveforms
</span><span style="color:#75715e"></span>
{<span style="color:#a6e22e">Mix</span>.<span style="color:#a6e22e">fill</span>(<span style="color:#ae81ff">10</span>, {<span style="color:#a6e22e">SinOsc</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#ae81ff">440</span><span style="color:#f92672">+</span><span style="color:#ae81ff">440.</span><span style="color:#a6e22e">rand</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0.03</span>)}, {<span style="color:#a6e22e">Saw</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#ae81ff">440</span><span style="color:#f92672">+</span><span style="color:#ae81ff">440.</span><span style="color:#a6e22e">rand</span>, <span style="color:#ae81ff">0.01</span>)})}.<span style="color:#a6e22e">play</span>;


<span style="color:#75715e">// a more complex sound
</span><span style="color:#75715e"></span>
{<span style="color:#a6e22e">Mix</span>.<span style="color:#a6e22e">fill</span>(<span style="color:#ae81ff">10</span>, {<span style="color:#a6e22e">SinOsc</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#ae81ff">440</span><span style="color:#f92672">+</span><span style="color:#ae81ff">640.</span><span style="color:#a6e22e">rand</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0.03</span>)<span style="color:#f92672">+</span><span style="color:#a6e22e">Saw</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#ae81ff">440</span><span style="color:#f92672">+</span><span style="color:#ae81ff">460.</span><span style="color:#a6e22e">rand</span>, <span style="color:#ae81ff">0.01</span>)}, {<span style="color:#a6e22e">Saw</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#ae81ff">440</span><span style="color:#f92672">+</span><span style="color:#ae81ff">880.</span><span style="color:#a6e22e">rand</span>, <span style="color:#ae81ff">0.01</span>)})}.<span style="color:#a6e22e">play</span>;

<span style="color:#75715e">// another example with Array
</span><span style="color:#75715e">//create the synth
</span><span style="color:#75715e"></span>(
<span style="color:#a6e22e">SynthDef</span>(<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#a6e22e">additiveAr</span>, {<span style="color:#f92672">|</span><span style="color:#a6e22e">freq</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">60</span>, <span style="color:#a6e22e">ampSi</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>, <span style="color:#a6e22e">ampSa</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.3</span>, <span style="color:#a6e22e">gate</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, <span style="color:#a6e22e">cutoff</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">2000</span>, <span style="color:#a6e22e">mix</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.7</span>, <span style="color:#a6e22e">room</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>, <span style="color:#a6e22e">damp</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>, <span style="color:#a6e22e">release</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">|</span>
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">env</span>, <span style="color:#a6e22e">source</span>, <span style="color:#a6e22e">lowpass</span>, <span style="color:#a6e22e">reverb</span>;
<span style="color:#75715e">//env = EnvGen.kr(Env.asr(1, 2, release), gate, doneAction:2);
</span><span style="color:#75715e"></span><span style="color:#a6e22e">env</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">EnvGen</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#a6e22e">Env</span>([<span style="color:#ae81ff">0.0</span>, <span style="color:#ae81ff">0.5</span>, <span style="color:#ae81ff">0.0</span>, <span style="color:#ae81ff">1.0</span>, <span style="color:#ae81ff">0.9</span>, <span style="color:#ae81ff">0.0</span>], [<span style="color:#ae81ff">0.05</span>, <span style="color:#ae81ff">0.1</span>, <span style="color:#ae81ff">0.01</span>, <span style="color:#ae81ff">1.0</span>, <span style="color:#ae81ff">1.5</span>], <span style="color:#f92672">-</span><span style="color:#ae81ff">4</span>), <span style="color:#a6e22e">doneAction</span><span style="color:#f92672">:</span><span style="color:#ae81ff">2</span>);
<span style="color:#a6e22e">source</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">LFSaw</span>.<span style="color:#a6e22e">ar</span>([<span style="color:#a6e22e">freq</span>, <span style="color:#a6e22e">freq</span><span style="color:#f92672">+</span><span style="color:#ae81ff">7</span>], <span style="color:#ae81ff">0</span>, <span style="color:#a6e22e">ampSa</span>)<span style="color:#f92672">+</span><span style="color:#a6e22e">SinOsc</span>.<span style="color:#a6e22e">ar</span>([<span style="color:#a6e22e">freq</span>, <span style="color:#a6e22e">freq</span><span style="color:#f92672">+</span><span style="color:#ae81ff">4</span>], <span style="color:#ae81ff">0</span>, <span style="color:#a6e22e">ampSi</span>);
<span style="color:#a6e22e">source</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">source</span><span style="color:#f92672">*</span><span style="color:#a6e22e">env</span>;
<span style="color:#a6e22e">lowpass</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">LPF</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#a6e22e">source</span>, <span style="color:#a6e22e">cutoff</span>);
<span style="color:#a6e22e">reverb</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">FreeVerb</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#a6e22e">lowpass</span>, <span style="color:#a6e22e">mix</span>, <span style="color:#a6e22e">room</span>, <span style="color:#a6e22e">damp</span>);
<span style="color:#a6e22e">Out</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#ae81ff">0</span>, <span style="color:#a6e22e">reverb</span>)
}).<span style="color:#a6e22e">add</span>;
)
(
<span style="color:#75715e">// Create a 10−note chord
</span><span style="color:#75715e"></span><span style="color:#f92672">~</span><span style="color:#a6e22e">array</span> <span style="color:#f92672">=</span> Array.<span style="color:#a6e22e">fill</span>(<span style="color:#ae81ff">10</span>,
{
<span style="color:#a6e22e">Synth</span>(<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#a6e22e">additiveAr</span>, [
 <span style="color:#960050;background-color:#1e0010">\</span><span style="color:#a6e22e">freq</span>, <span style="color:#a6e22e">rrand</span>(<span style="color:#ae81ff">400</span>, <span style="color:#ae81ff">700</span>),
 <span style="color:#960050;background-color:#1e0010">\</span><span style="color:#a6e22e">ampSi</span>, <span style="color:#a6e22e">rrand</span>(<span style="color:#ae81ff">0.1</span>, <span style="color:#ae81ff">0.5</span>),
 <span style="color:#960050;background-color:#1e0010">\</span><span style="color:#a6e22e">ampSa</span>, <span style="color:#a6e22e">rrand</span>(<span style="color:#ae81ff">0.03</span>, <span style="color:#ae81ff">0.3</span>),
 <span style="color:#960050;background-color:#1e0010">\</span><span style="color:#a6e22e">cutoff</span>, <span style="color:#a6e22e">rrand</span>(<span style="color:#ae81ff">200</span>, <span style="color:#ae81ff">10000</span>), 
 <span style="color:#960050;background-color:#1e0010">\</span><span style="color:#a6e22e">release</span>, <span style="color:#a6e22e">rrand</span>(<span style="color:#ae81ff">0.5</span>, <span style="color:#ae81ff">4</span>)]
)
}
);
)
<span style="color:#75715e">//now run the array again and do some experimantation by changing the values of the arguments of the synth
</span><span style="color:#75715e"></span><span style="color:#f92672">~</span><span style="color:#a6e22e">array</span> <span style="color:#f92672">=</span> Array.<span style="color:#a6e22e">fill</span>(<span style="color:#ae81ff">10</span>, {<span style="color:#a6e22e">Synth</span>(<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#a6e22e">additiveAr</span>, [<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#a6e22e">freq</span>, <span style="color:#a6e22e">rrand</span>(<span style="color:#ae81ff">450</span>, <span style="color:#ae81ff">750</span>)])});
<span style="color:#75715e">//try now to remove notes from the chord ** use the asr env to control the gate
</span><span style="color:#75715e"></span><span style="color:#f92672">~</span><span style="color:#a6e22e">array</span>[<span style="color:#ae81ff">3</span>].<span style="color:#a6e22e">set</span>(<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#a6e22e">gate</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#75715e">//do the same for the other notes by using the synth&#39;s id from the list. [0] is the first note of the list.
</span><span style="color:#75715e"></span></code></pre></div>
<h4 id="phase-vocoder">Phase Vocoder</h4>

<p>The phase vocoder was developed at Bell laboratories and was first described by Flanagan and Golden (1996). All vocoders present the input signal in a particular frequency band. Vocoders simplify the complex spectral information and reduce the amount of data needed to present the signal (Tolonen et al. 1998).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">// alloc a buffer for the FFT
</span><span style="color:#75715e"></span><span style="color:#a6e22e">b</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Buffer</span>.<span style="color:#a6e22e">alloc</span>(<span style="color:#a6e22e">s</span>,<span style="color:#ae81ff">2048</span>,<span style="color:#ae81ff">1</span>);
<span style="color:#75715e">// read a sound
</span><span style="color:#75715e"></span><span style="color:#a6e22e">c</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Buffer</span>.<span style="color:#a6e22e">read</span>(<span style="color:#a6e22e">s</span>, <span style="color:#a6e22e">Platform</span>.<span style="color:#a6e22e">resourceDir</span> <span style="color:#f92672">+</span><span style="color:#960050;background-color:#1e0010">/+ &#34;sounds/a11wlk01.wav&#34;);</span>


(
<span style="color:#75715e">// do nothing
</span><span style="color:#75715e"></span>{
    <span style="color:#66d9ef">var</span> <span style="color:#66d9ef">in</span>, <span style="color:#a6e22e">chain</span>;
    <span style="color:#66d9ef">in</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">PlayBuf</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#ae81ff">1</span>,<span style="color:#a6e22e">c</span>, <span style="color:#a6e22e">BufRateScale</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#a6e22e">c</span>), <span style="color:#a6e22e">loop</span><span style="color:#f92672">:</span><span style="color:#ae81ff">1</span>);
    <span style="color:#a6e22e">chain</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">FFT</span>(<span style="color:#a6e22e">b</span>, <span style="color:#66d9ef">in</span>);
    <span style="color:#ae81ff">0.5</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">IFFT</span>(<span style="color:#a6e22e">chain</span>);
}.<span style="color:#a6e22e">scope</span>(<span style="color:#ae81ff">1</span>);
)

(
<span style="color:#75715e">// pass only magnitudes above a threshold
</span><span style="color:#75715e"></span>{
    <span style="color:#66d9ef">var</span> <span style="color:#66d9ef">in</span>, <span style="color:#a6e22e">chain</span>;
    <span style="color:#66d9ef">in</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">PlayBuf</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#ae81ff">1</span>,<span style="color:#a6e22e">c</span>, <span style="color:#a6e22e">BufRateScale</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#a6e22e">c</span>), <span style="color:#a6e22e">loop</span><span style="color:#f92672">:</span><span style="color:#ae81ff">1</span>);
    <span style="color:#a6e22e">chain</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">FFT</span>(<span style="color:#a6e22e">b</span>, <span style="color:#66d9ef">in</span>);
    <span style="color:#a6e22e">chain</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">PV_MagAbove</span>(<span style="color:#a6e22e">chain</span>, <span style="color:#a6e22e">MouseX</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#ae81ff">0.1</span>,<span style="color:#ae81ff">512</span>,<span style="color:#ae81ff">1</span>));
    <span style="color:#ae81ff">0.5</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">IFFT</span>(<span style="color:#a6e22e">chain</span>);
}.<span style="color:#a6e22e">scope</span>(<span style="color:#ae81ff">1</span>);
)
</code></pre></div>
<p>more examples on <a href="https://vasileios.github.io/ac-sc/sc-examples/spectral/" title="Spectral">Spectral</a></p>

<h4 id="modulation-synthesis">Modulation synthesis</h4>

<p>FM synthesis (frequency modulation) is a fundamental digital sound
synthesis technique employing a nonlinear oscillating function. The
theory of FM was well established by the mid-twentieth century for
radio frequencies. The use of FM in audio frequencies for the purpose
of sound synthesis was not studied until late 60's. *John Chowing*
(the inventor of FM synthesis) (Miranda 2002) at Stanford University was the first to study systematically FM synthesis. Chowing observed that complex audio spectra can be achieved with just two sinusoidal oscillators (Tolonen et al. 1998).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">/*
</span><span style="color:#75715e">Modulation synthesis
</span><span style="color:#75715e">Obective: modulate the frequency,the phase and the amplitude of a simple waveform using other waveforms as the modulators
</span><span style="color:#75715e">*/</span>

<span style="color:#75715e">/*From 2009 Collins et al. Modulation Synthesis tutorial
</span><span style="color:#75715e">//Use MouseX and MouseY to control the modulation
</span><span style="color:#75715e">
</span><span style="color:#75715e">//Ring Modulation
</span><span style="color:#75715e">
</span><span style="color:#75715e">A straight multiplication of two signals.
</span><span style="color:#75715e">
</span><span style="color:#75715e">carrier * modulator
</span><span style="color:#75715e">*/</span>

{
<span style="color:#75715e">//2009 Collins et al.
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">carrier</span>, <span style="color:#a6e22e">modulator</span>, <span style="color:#a6e22e">carrfreq</span>, <span style="color:#a6e22e">modfreq</span>;

<span style="color:#a6e22e">carrfreq</span><span style="color:#f92672">=</span> <span style="color:#a6e22e">MouseX</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#ae81ff">440</span>,<span style="color:#ae81ff">5000</span>,<span style="color:#e6db74">&#39;exponential&#39;</span>);
<span style="color:#a6e22e">modfreq</span><span style="color:#f92672">=</span> <span style="color:#a6e22e">MouseY</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">5000</span>,<span style="color:#e6db74">&#39;exponential&#39;</span>);

<span style="color:#a6e22e">carrier</span><span style="color:#f92672">=</span> <span style="color:#a6e22e">SinOsc</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#a6e22e">carrfreq</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0.5</span>);
<span style="color:#a6e22e">modulator</span><span style="color:#f92672">=</span> <span style="color:#a6e22e">SinOsc</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#a6e22e">modfreq</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0.5</span>);

<span style="color:#a6e22e">carrier</span><span style="color:#f92672">*</span><span style="color:#a6e22e">modulator</span>;
}.<span style="color:#a6e22e">scope</span>


<span style="color:#75715e">/*
</span><span style="color:#75715e">AM synthesis
</span><span style="color:#75715e">The modulation is Unipolar
</span><span style="color:#75715e">means always possitive (0, 1)
</span><span style="color:#75715e">SinOsc.ar(440, 0, 0.5) // (-0.5, 0.5) bipolar
</span><span style="color:#75715e">SinOsc.ar(440, 0, 0.5, 0.5) // (0, 1) unipolar
</span><span style="color:#75715e">*/</span>
(
{
<span style="color:#75715e">//2009 Collins et al.
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">carrier</span>, <span style="color:#a6e22e">modulator</span>, <span style="color:#a6e22e">carrfreq</span>, <span style="color:#a6e22e">modfreq</span>;

<span style="color:#a6e22e">carrfreq</span><span style="color:#f92672">=</span> <span style="color:#a6e22e">MouseX</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#ae81ff">440</span>,<span style="color:#ae81ff">5000</span>,<span style="color:#e6db74">&#39;exponential&#39;</span>);
<span style="color:#a6e22e">modfreq</span><span style="color:#f92672">=</span> <span style="color:#a6e22e">MouseY</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">5000</span>,<span style="color:#e6db74">&#39;exponential&#39;</span>);

<span style="color:#a6e22e">carrier</span><span style="color:#f92672">=</span> <span style="color:#a6e22e">SinOsc</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#a6e22e">carrfreq</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0.5</span>);
<span style="color:#a6e22e">modulator</span><span style="color:#f92672">=</span> <span style="color:#a6e22e">SinOsc</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#a6e22e">modfreq</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0.25</span>, <span style="color:#ae81ff">0.25</span>);

<span style="color:#a6e22e">carrier</span><span style="color:#f92672">*</span><span style="color:#a6e22e">modulator</span>;
}.<span style="color:#a6e22e">scope</span>
)


<span style="color:#75715e">// another example, One possitive one negative
</span><span style="color:#75715e"></span>
{<span style="color:#a6e22e">SinOsc</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#ae81ff">440</span>, <span style="color:#ae81ff">0</span>, <span style="color:#a6e22e">SinOsc</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#ae81ff">0.5</span>), <span style="color:#a6e22e">SinOsc</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#ae81ff">0.5</span>))}.<span style="color:#a6e22e">scope</span>

<span style="color:#75715e">// both possitive and negative
</span><span style="color:#75715e"></span>
{<span style="color:#a6e22e">SinOsc</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#ae81ff">440</span>, <span style="color:#ae81ff">0</span>, <span style="color:#a6e22e">SinOsc</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#ae81ff">0.25</span>), <span style="color:#ae81ff">0.25</span>)}.<span style="color:#a6e22e">scope</span>

<span style="color:#75715e">// try also a MouseX variable to control the modulation of the amplitude
</span><span style="color:#75715e"></span>
{
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">carrier</span>, <span style="color:#a6e22e">modulator</span>, <span style="color:#a6e22e">carrfreq</span>, <span style="color:#a6e22e">modfreq</span>, <span style="color:#a6e22e">modamp</span>;

<span style="color:#a6e22e">carrfreq</span><span style="color:#f92672">=</span> <span style="color:#a6e22e">MouseX</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#ae81ff">440</span>,<span style="color:#ae81ff">5000</span>,<span style="color:#e6db74">&#39;exponential&#39;</span>);
<span style="color:#a6e22e">modfreq</span><span style="color:#f92672">=</span> <span style="color:#a6e22e">MouseY</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">5000</span>,<span style="color:#e6db74">&#39;exponential&#39;</span>);
<span style="color:#a6e22e">modamp</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">MouseX</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#ae81ff">0.1</span>, <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;exponential&#39;</span>);
<span style="color:#a6e22e">carrier</span><span style="color:#f92672">=</span> <span style="color:#a6e22e">SinOsc</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#a6e22e">carrfreq</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0.5</span>);
<span style="color:#a6e22e">modulator</span><span style="color:#f92672">=</span> <span style="color:#a6e22e">SinOsc</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#a6e22e">modfreq</span>,<span style="color:#ae81ff">0</span>,<span style="color:#a6e22e">SinOsc</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#a6e22e">modamp</span>), <span style="color:#a6e22e">SinOsc</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#a6e22e">modamp</span>));

<span style="color:#a6e22e">carrier</span><span style="color:#f92672">*</span><span style="color:#a6e22e">modulator</span>;
}.<span style="color:#a6e22e">scope</span>

<span style="color:#75715e">/*
</span><span style="color:#75715e">Fm synthesis (frequency modulation) is a technique of changing the timbre
</span><span style="color:#75715e">of a waveform by modulating its frequency. &#34;John Chowning was the first to study FM synthesis until late 60&#39;s&#34; (Tolonen et al. 1998).
</span><span style="color:#75715e">*/</span>
(
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">synth</span>;
<span style="color:#a6e22e">synth</span><span style="color:#f92672">=</span> {<span style="color:#f92672">|</span> <span style="color:#a6e22e">carrfreq</span><span style="color:#f92672">=</span><span style="color:#ae81ff">440</span>, <span style="color:#a6e22e">modfreq</span><span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, <span style="color:#a6e22e">moddepth</span><span style="color:#f92672">=</span><span style="color:#ae81ff">0.01</span><span style="color:#f92672">|</span>
<span style="color:#a6e22e">SinOsc</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#a6e22e">carrfreq</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">MouseX</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#a6e22e">moddepth</span>, <span style="color:#ae81ff">5000</span>, <span style="color:#e6db74">&#39;exponential&#39;</span>)<span style="color:#f92672">*</span><span style="color:#a6e22e">SinOsc</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#a6e22e">MouseY</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#a6e22e">modfreq</span>, <span style="color:#ae81ff">10000</span>, <span style="color:#e6db74">&#39;exponential&#39;</span>)),<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0.25</span>)
}.<span style="color:#a6e22e">scope</span>;
)


<span style="color:#75715e">// control the carrfreq as well
</span><span style="color:#75715e"></span>
(
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">synth</span>;
<span style="color:#a6e22e">synth</span><span style="color:#f92672">=</span> {<span style="color:#f92672">|</span> <span style="color:#a6e22e">carrfreq</span><span style="color:#f92672">=</span><span style="color:#ae81ff">440</span>, <span style="color:#a6e22e">modfreq</span><span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, <span style="color:#a6e22e">moddepth</span><span style="color:#f92672">=</span><span style="color:#ae81ff">0.01</span><span style="color:#f92672">|</span>
<span style="color:#a6e22e">SinOsc</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#a6e22e">MouseX</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#a6e22e">carrfreq</span>, <span style="color:#ae81ff">10000</span>, <span style="color:#e6db74">&#39;exponential&#39;</span>) <span style="color:#f92672">+</span> <span style="color:#a6e22e">MouseX</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#a6e22e">moddepth</span>, <span style="color:#ae81ff">5000</span>, <span style="color:#e6db74">&#39;exponential&#39;</span>)<span style="color:#f92672">*</span><span style="color:#a6e22e">SinOsc</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#a6e22e">MouseY</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#a6e22e">modfreq</span>, <span style="color:#ae81ff">10000</span>, <span style="color:#e6db74">&#39;exponential&#39;</span>)),<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0.25</span>)
}.<span style="color:#a6e22e">scope</span>;
)


<span style="color:#75715e">//Create a window with sliders to control the frequency modulation (Collins 2009 et al. sc_tutorials)
</span><span style="color:#75715e"></span>
(
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">w</span>, <span style="color:#a6e22e">carrfreqslider</span>, <span style="color:#a6e22e">modfreqslider</span>, <span style="color:#a6e22e">moddepthslider</span>, <span style="color:#a6e22e">synth</span>;

<span style="color:#a6e22e">w</span><span style="color:#f92672">=</span><span style="color:#a6e22e">Window</span>(<span style="color:#e6db74">&#34;frequency modulation&#34;</span>, <span style="color:#a6e22e">Rect</span>(<span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">400</span>, <span style="color:#ae81ff">400</span>, <span style="color:#ae81ff">300</span>));
<span style="color:#a6e22e">w</span>.<span style="color:#a6e22e">view</span>.<span style="color:#a6e22e">decorator</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">FlowLayout</span>(<span style="color:#a6e22e">w</span>.<span style="color:#a6e22e">view</span>.<span style="color:#a6e22e">bounds</span>);

<span style="color:#a6e22e">synth</span><span style="color:#f92672">=</span> {<span style="color:#a6e22e">arg</span> <span style="color:#a6e22e">carrfreq</span><span style="color:#f92672">=</span><span style="color:#ae81ff">440</span>, <span style="color:#a6e22e">modfreq</span><span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, <span style="color:#a6e22e">moddepth</span><span style="color:#f92672">=</span><span style="color:#ae81ff">0.01</span>;
<span style="color:#a6e22e">SinOsc</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#a6e22e">carrfreq</span> <span style="color:#f92672">+</span> (<span style="color:#a6e22e">moddepth</span><span style="color:#f92672">*</span><span style="color:#a6e22e">SinOsc</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#a6e22e">modfreq</span>)),<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0.25</span>)
}.<span style="color:#a6e22e">scope</span>;

<span style="color:#a6e22e">carrfreqslider</span><span style="color:#f92672">=</span> <span style="color:#a6e22e">EZSlider</span>(<span style="color:#a6e22e">w</span>, <span style="color:#ae81ff">300</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#ae81ff">50</span>, <span style="color:#e6db74">&#34;carrfreq&#34;</span>, <span style="color:#a6e22e">ControlSpec</span>(<span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">5000</span>, <span style="color:#e6db74">&#39;exponential&#39;</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">440</span>), {<span style="color:#f92672">|</span><span style="color:#a6e22e">ez</span><span style="color:#f92672">|</span>  <span style="color:#a6e22e">synth</span>.<span style="color:#a6e22e">set</span>(<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#a6e22e">carrfreq</span>, <span style="color:#a6e22e">ez</span>.<span style="color:#a6e22e">value</span>)});
<span style="color:#a6e22e">w</span>.<span style="color:#a6e22e">view</span>.<span style="color:#a6e22e">decorator</span>.<span style="color:#a6e22e">nextLine</span>;

<span style="color:#a6e22e">modfreqslider</span><span style="color:#f92672">=</span> <span style="color:#a6e22e">EZSlider</span>(<span style="color:#a6e22e">w</span>, <span style="color:#ae81ff">300</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#ae81ff">50</span>, <span style="color:#e6db74">&#34;modfreq&#34;</span>, <span style="color:#a6e22e">ControlSpec</span>(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">5000</span>, <span style="color:#e6db74">&#39;exponential&#39;</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>), {<span style="color:#f92672">|</span><span style="color:#a6e22e">ez</span><span style="color:#f92672">|</span>  <span style="color:#a6e22e">synth</span>.<span style="color:#a6e22e">set</span>(<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#a6e22e">modfreq</span>, <span style="color:#a6e22e">ez</span>.<span style="color:#a6e22e">value</span>)});
<span style="color:#a6e22e">w</span>.<span style="color:#a6e22e">view</span>.<span style="color:#a6e22e">decorator</span>.<span style="color:#a6e22e">nextLine</span>;
<span style="color:#a6e22e">moddepthslider</span><span style="color:#f92672">=</span> <span style="color:#a6e22e">EZSlider</span>(<span style="color:#a6e22e">w</span>, <span style="color:#ae81ff">300</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#ae81ff">50</span>, <span style="color:#e6db74">&#34;moddepth&#34;</span>, <span style="color:#a6e22e">ControlSpec</span>(<span style="color:#ae81ff">0.01</span>, <span style="color:#ae81ff">5000</span>, <span style="color:#e6db74">&#39;exponential&#39;</span>, <span style="color:#ae81ff">0.01</span>, <span style="color:#ae81ff">0.01</span>), {<span style="color:#f92672">|</span><span style="color:#a6e22e">ez</span><span style="color:#f92672">|</span>  <span style="color:#a6e22e">synth</span>.<span style="color:#a6e22e">set</span>(<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#a6e22e">moddepth</span>, <span style="color:#a6e22e">ez</span>.<span style="color:#a6e22e">value</span>)});

<span style="color:#a6e22e">w</span>.<span style="color:#a6e22e">front</span>;
)

<span style="color:#75715e">//Phase Modulation
</span><span style="color:#75715e"></span>(
{
<span style="color:#75715e">//2009 Collins et al.
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">modf</span>, <span style="color:#a6e22e">ind</span>;

<span style="color:#a6e22e">modf</span><span style="color:#f92672">=</span> <span style="color:#a6e22e">MouseX</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">440</span>, <span style="color:#e6db74">&#39;exponential&#39;</span>);
<span style="color:#a6e22e">ind</span><span style="color:#f92672">=</span><span style="color:#a6e22e">MouseY</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#ae81ff">0.0</span>,<span style="color:#ae81ff">10.0</span>);

<span style="color:#a6e22e">SinOsc</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#ae81ff">440</span>, <span style="color:#a6e22e">SinOsc</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#a6e22e">modf</span>,<span style="color:#ae81ff">0</span>,<span style="color:#a6e22e">modf</span><span style="color:#f92672">*</span><span style="color:#a6e22e">ind</span>),<span style="color:#ae81ff">0.25</span>)
}.<span style="color:#a6e22e">scope</span>
)
</code></pre></div>
<h4 id="waveshaping-synthesis">Waveshaping synthesis</h4>

<p><strong>Waveshaping synthesis - nonlinear distortion</strong></p>

<p>Waveshaping synthesis is a simple sound synthesis method using a
nonlinear shaping function to modify the input signal (Tolonen et
al. 1998)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">/*
</span><span style="color:#75715e">BA 182202
</span><span style="color:#75715e">Waveshaping examples
</span><span style="color:#75715e">Objective: create a wavetable and shape the waveform
</span><span style="color:#75715e">*/</span>

<span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">boot</span>;
<span style="color:#75715e">//Fill this buffer with a series of Chebyshev polynomials, see more on Help-&gt;Buffer
</span><span style="color:#75715e"></span><span style="color:#a6e22e">b</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Buffer</span>.<span style="color:#a6e22e">alloc</span>(<span style="color:#a6e22e">s</span>, <span style="color:#ae81ff">512</span>, <span style="color:#ae81ff">1</span>, { <span style="color:#f92672">|</span><span style="color:#a6e22e">buf</span><span style="color:#f92672">|</span> <span style="color:#a6e22e">buf</span>.<span style="color:#a6e22e">chebyMsg</span>([<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">1</span>])});

(
{
    <span style="color:#a6e22e">Shaper</span>.<span style="color:#a6e22e">ar</span>(
        <span style="color:#a6e22e">b</span>,
        <span style="color:#a6e22e">SinOsc</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#ae81ff">300</span>, <span style="color:#ae81ff">0</span>, <span style="color:#a6e22e">Line</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">6</span>)<span style="color:#f92672">+</span><span style="color:#a6e22e">Saw</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#ae81ff">304</span>, <span style="color:#a6e22e">Line</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">6</span>))),
        <span style="color:#ae81ff">0.5</span>
    )
}.<span style="color:#a6e22e">scope</span>;
)

<span style="color:#a6e22e">b</span>.<span style="color:#a6e22e">free</span>;

<span style="color:#75715e">//another example with sine wave series
</span><span style="color:#75715e">//Fill this buffer with a series of sine wave partials using specified frequencies, amplitudes, and initial phases.
</span><span style="color:#75715e"></span><span style="color:#a6e22e">b</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Buffer</span>.<span style="color:#a6e22e">alloc</span>(<span style="color:#a6e22e">s</span>, <span style="color:#ae81ff">512</span>, <span style="color:#ae81ff">1</span>, { <span style="color:#f92672">|</span><span style="color:#a6e22e">buf</span><span style="color:#f92672">|</span> <span style="color:#a6e22e">buf</span>.<span style="color:#a6e22e">sine1Msg</span>([<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">1</span>])});
<span style="color:#75715e">//see also sine2 and 3
</span><span style="color:#75715e"></span>
(
{
    <span style="color:#a6e22e">Shaper</span>.<span style="color:#a6e22e">ar</span>(
        <span style="color:#a6e22e">b</span>,
        <span style="color:#a6e22e">SinOsc</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#ae81ff">300</span><span style="color:#f92672">+</span><span style="color:#ae81ff">305.</span><span style="color:#a6e22e">rand</span>, <span style="color:#ae81ff">0</span>, <span style="color:#a6e22e">LFNoise2</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#ae81ff">0</span><span style="color:#f92672">+</span><span style="color:#ae81ff">0.15</span>)<span style="color:#f92672">+</span><span style="color:#a6e22e">Saw</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#ae81ff">304</span><span style="color:#f92672">+</span><span style="color:#ae81ff">30.7</span>.<span style="color:#a6e22e">rand</span>, <span style="color:#a6e22e">LFNoise2</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#ae81ff">0.15</span>))),
        <span style="color:#ae81ff">0.5</span>
    )
}.<span style="color:#a6e22e">scope</span>;
)

<span style="color:#a6e22e">b</span>.<span style="color:#a6e22e">free</span>;

<span style="color:#75715e">//another example
</span><span style="color:#75715e"></span>
<span style="color:#a6e22e">b</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Buffer</span>.<span style="color:#a6e22e">alloc</span>(<span style="color:#a6e22e">s</span>, <span style="color:#ae81ff">512</span>, <span style="color:#ae81ff">1</span>, { <span style="color:#f92672">|</span><span style="color:#a6e22e">buf</span><span style="color:#f92672">|</span> <span style="color:#a6e22e">buf</span>.<span style="color:#a6e22e">sine1Msg</span>(<span style="color:#ae81ff">1.0</span><span style="color:#960050;background-color:#1e0010">/[1,2,3,4,5,6,7,8,9,10])});</span>
<span style="color:#75715e">//check also with other tables.
</span><span style="color:#75715e">//Combine tables
</span><span style="color:#75715e">//b = Buffer.alloc(s, 512, 1, { |buf| buf.chebyMsg([1,0,1,1,0,1])});
</span><span style="color:#75715e">//b = Buffer.alloc(s, 512, 1, { |buf| buf.sine1Msg([1,0,1,1,0,1])});
</span><span style="color:#75715e"></span>
(
{
    <span style="color:#a6e22e">Shaper</span>.<span style="color:#a6e22e">ar</span>(
        <span style="color:#a6e22e">b</span>,
        <span style="color:#a6e22e">SinOsc</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#ae81ff">300</span><span style="color:#f92672">+</span><span style="color:#ae81ff">305.</span><span style="color:#a6e22e">rand</span>, <span style="color:#ae81ff">0</span>, <span style="color:#a6e22e">LFNoise2</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#ae81ff">0</span><span style="color:#f92672">+</span><span style="color:#ae81ff">0.15</span>.<span style="color:#a6e22e">rand</span>)<span style="color:#f92672">+</span><span style="color:#a6e22e">Saw</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#ae81ff">304</span><span style="color:#f92672">+</span><span style="color:#ae81ff">307.</span><span style="color:#a6e22e">rand</span>, <span style="color:#a6e22e">LFNoise2</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#ae81ff">0.15</span>.<span style="color:#a6e22e">rand</span>)))<span style="color:#f92672">+</span><span style="color:#a6e22e">PinkNoise</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#ae81ff">0.1</span>.<span style="color:#a6e22e">rand</span>),
        <span style="color:#ae81ff">0.5</span>
    )
}.<span style="color:#a6e22e">scope</span>;
)

<span style="color:#a6e22e">b</span>.<span style="color:#a6e22e">free</span>;
</code></pre></div>
<h4 id="sampling">Sampling</h4>

<p>Sampling synthesis is a method in which recordings of relatively short sounds are played back (Roads 1995). Digital sampling instruments, also called samplers, are typically used to perform pitch shifting, looping, or other modification of the original sound signal (Borin et al. 1997b) (Tolonen et al. 1998)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">/*Using Buffers with Sound Files
</span><span style="color:#75715e">
</span><span style="color:#75715e">Buffer has another class method called &#39;read&#39;, which reads a sound file into memory, and returns a Buffer object. Using the UGen PlayBuf, we can play the file.
</span><span style="color:#75715e">*/</span>
<span style="color:#75715e">// read a soundfile
</span><span style="color:#75715e"></span><span style="color:#a6e22e">b</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Buffer</span>.<span style="color:#a6e22e">read</span>(<span style="color:#a6e22e">s</span>, <span style="color:#e6db74">&#34;sounds/a11wlk01.wav&#34;</span>);

		<span style="color:#75715e">// now play it
</span><span style="color:#75715e"></span>		(
		<span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">SynthDef</span>(<span style="color:#e6db74">&#34;tutorial-PlayBuf&#34;</span>,{ <span style="color:#a6e22e">arg</span> <span style="color:#a6e22e">out</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, <span style="color:#a6e22e">bufnum</span>;
			<span style="color:#a6e22e">Out</span>.<span style="color:#a6e22e">ar</span>( <span style="color:#a6e22e">out</span>,
				<span style="color:#a6e22e">PlayBuf</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#ae81ff">1</span>, <span style="color:#a6e22e">bufnum</span>, <span style="color:#a6e22e">BufRateScale</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#a6e22e">bufnum</span>))
			)
		}).<span style="color:#a6e22e">play</span>(<span style="color:#a6e22e">s</span>,[<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#a6e22e">bufnum</span>, <span style="color:#a6e22e">b</span>.<span style="color:#a6e22e">bufnum</span> ]);
		)
		<span style="color:#a6e22e">x</span>.<span style="color:#a6e22e">free</span>; <span style="color:#a6e22e">b</span>.<span style="color:#a6e22e">free</span>;
</code></pre></div>
<h4 id="granular-synthesis">Granular synthesis</h4>

<p>Granular synthesis is a set of techniques that share a common paradigm of representing sound signals by "sound atoms" or grains. Granular synthesis originated from the studies by Gabor in the lates 40's (Cavaliere and Piccialli 1997; Roads 1995).
In granular synthesis the sound grain can have duration ranging from one millisecond to more than a hundred milliseconds and the waveform of the grain can be a windowed sinusoid, a sampled signal, or obtained from a physics-based model of a sound production mechanism (Cavaliere and Piccialli 1997) (Tolonen et al. 1998).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">/*
</span><span style="color:#75715e">GrainBuf
</span><span style="color:#75715e">Granular synthesis with sound stored in a buffer.
</span><span style="color:#75715e">GrainBuf.ar(numChannels: 1, trigger: 0, dur: 1, sndbuf, rate: 1, pos: 0, interp: 2, pan: 0, envbufnum: -1, maxGrains: 512, mul: 1, add: 0)
</span><span style="color:#75715e">
</span><span style="color:#75715e">*/</span>
<span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">boot</span>;

(
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">winenv</span>;

<span style="color:#a6e22e">b</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Buffer</span>.<span style="color:#a6e22e">read</span>(<span style="color:#a6e22e">s</span>, <span style="color:#a6e22e">Platform</span>.<span style="color:#a6e22e">resourceDir</span> <span style="color:#f92672">+</span><span style="color:#960050;background-color:#1e0010">/+ &#34;sounds/a11wlk01-44_1.aiff&#34;);</span>
<span style="color:#75715e">// a custom envelope
</span><span style="color:#75715e"></span><span style="color:#a6e22e">winenv</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Env</span>([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>], [<span style="color:#ae81ff">0.5</span>, <span style="color:#ae81ff">0.5</span>], [<span style="color:#ae81ff">8</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">8</span>]);
<span style="color:#a6e22e">z</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Buffer</span>.<span style="color:#a6e22e">sendCollection</span>(<span style="color:#a6e22e">s</span>, <span style="color:#a6e22e">winenv</span>.<span style="color:#a6e22e">discretize</span>, <span style="color:#ae81ff">1</span>);

<span style="color:#a6e22e">SynthDef</span>(<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#a6e22e">buf_grain_test</span>, { <span style="color:#f92672">|</span><span style="color:#a6e22e">out</span>, <span style="color:#a6e22e">gate</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, <span style="color:#a6e22e">amp</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, <span style="color:#a6e22e">sndbuf</span>, <span style="color:#a6e22e">envbuf</span><span style="color:#f92672">|</span>
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">pan</span>, <span style="color:#a6e22e">env</span>, <span style="color:#a6e22e">freqdev</span>;
    <span style="color:#75715e">// use mouse x to control panning
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">pan</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">MouseX</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>);
    <span style="color:#a6e22e">env</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">EnvGen</span>.<span style="color:#a6e22e">kr</span>(
        <span style="color:#a6e22e">Env</span>([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>], [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>], <span style="color:#960050;background-color:#1e0010">\</span><span style="color:#a6e22e">sin</span>, <span style="color:#ae81ff">1</span>),
        <span style="color:#a6e22e">gate</span>,
        <span style="color:#a6e22e">levelScale</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">amp</span>,
        <span style="color:#a6e22e">doneAction</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Done</span>.<span style="color:#a6e22e">freeSelf</span>);
    <span style="color:#a6e22e">Out</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#a6e22e">out</span>,
        <span style="color:#a6e22e">GrainBuf</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#ae81ff">2</span>, <span style="color:#a6e22e">Impulse</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#ae81ff">10</span>), <span style="color:#ae81ff">0.1</span>, <span style="color:#a6e22e">sndbuf</span>, <span style="color:#a6e22e">LFNoise1</span>.<span style="color:#a6e22e">kr</span>.<span style="color:#a6e22e">range</span>(<span style="color:#ae81ff">0.5</span>, <span style="color:#ae81ff">2</span>),
            <span style="color:#a6e22e">LFNoise2</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#ae81ff">0.1</span>).<span style="color:#a6e22e">range</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>), <span style="color:#ae81ff">2</span>, <span style="color:#a6e22e">pan</span>, <span style="color:#a6e22e">envbuf</span>) <span style="color:#f92672">*</span> <span style="color:#a6e22e">env</span>)
}).<span style="color:#a6e22e">add</span>;
)

<span style="color:#75715e">// use built-in env
</span><span style="color:#75715e"></span><span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Synth</span>(<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#a6e22e">buf_grain_test</span>, [<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#a6e22e">sndbuf</span>, <span style="color:#a6e22e">b</span>, <span style="color:#960050;background-color:#1e0010">\</span><span style="color:#a6e22e">envbuf</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>])

<span style="color:#75715e">// switch to the custom env
</span><span style="color:#75715e"></span><span style="color:#a6e22e">x</span>.<span style="color:#a6e22e">set</span>(<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#a6e22e">envbuf</span>, <span style="color:#a6e22e">z</span>)
<span style="color:#a6e22e">x</span>.<span style="color:#a6e22e">set</span>(<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#a6e22e">envbuf</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>);

<span style="color:#a6e22e">x</span>.<span style="color:#a6e22e">set</span>(<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#a6e22e">gate</span>, <span style="color:#ae81ff">0</span>);
</code></pre></div>
<p>more examples on <a href="https://vasileios.github.io/ac-sc/sc-examples/granularsynthesis/" title="Granular Synthesis">Granular Synthesis</a></p>

<h4 id="physical-modeling">Physical Modeling</h4>

<p><strong>Digital waveguide synthesis</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">/*
</span><span style="color:#75715e">BA102002
</span><span style="color:#75715e">Physical Modeling
</span><span style="color:#75715e">Digital waveguide synthesis: superposition of 2 waves (right going and left going waves)
</span><span style="color:#75715e">modal synthesis (resonant modes of vibration of acoustic systems)(vibrating systems)
</span><span style="color:#75715e">delay line (Using delays and filters to model the propagation of sound wave - geometry of the waveguide)
</span><span style="color:#75715e">mass-spring models (signals based on masses and springs)
</span><span style="color:#75715e">
</span><span style="color:#75715e">See more on: JA Laird., 2001. The Physical Modelling of Drums Using Digital Waveguides. University of Bristol and (Tolonen, et al. 1998)
</span><span style="color:#75715e">*/</span>

<span style="color:#75715e">/*
</span><span style="color:#75715e">Instruction:
</span><span style="color:#75715e">Envelope (sound behaviour - time domain), Impulse (trigger), NoiseGen (texture), CombL (delay line)
</span><span style="color:#75715e">*/</span>


<span style="color:#75715e">///WaveTables
</span><span style="color:#75715e">//Create a table with size 512 and the amplitudes which shape the waveform. Use Sine or Chebyshev polynomial function.
</span><span style="color:#75715e"></span>
<span style="color:#a6e22e">a</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Wavetable</span>.<span style="color:#a6e22e">sineFill</span>(<span style="color:#ae81ff">512</span>, <span style="color:#ae81ff">1.0</span><span style="color:#960050;background-color:#1e0010">/[1, 2, 3, 4, 5, 6]);</span>
<span style="color:#a6e22e">a</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Wavetable</span>.<span style="color:#a6e22e">chebyFill</span>(<span style="color:#ae81ff">513</span>, [<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>]);
<span style="color:#a6e22e">a</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Wavetable</span>.<span style="color:#a6e22e">chebyFill</span>(<span style="color:#ae81ff">513</span>, [<span style="color:#ae81ff">0.3</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">0.8</span>, <span style="color:#ae81ff">1.1</span>]);
<span style="color:#a6e22e">a</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Wavetable</span>.<span style="color:#a6e22e">sineFill</span>(<span style="color:#ae81ff">512</span>, [<span style="color:#ae81ff">0.5</span>]);

<span style="color:#a6e22e">a</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">resamp1</span>(<span style="color:#ae81ff">256</span>);
<span style="color:#a6e22e">a</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">as</span>(<span style="color:#a6e22e">Signal</span>);
<span style="color:#a6e22e">a</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">asWavetable</span>;
<span style="color:#75715e">// Server side
</span><span style="color:#75715e"></span><span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">boot</span>;
<span style="color:#a6e22e">b</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Buffer</span>.<span style="color:#a6e22e">loadCollection</span>(<span style="color:#a6e22e">s</span>, <span style="color:#a6e22e">a</span>);
<span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">b</span>.<span style="color:#a6e22e">play</span>(<span style="color:#a6e22e">loop</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>); <span style="color:#75715e">// ok sounds
</span><span style="color:#75715e"></span><span style="color:#a6e22e">x</span>.<span style="color:#a6e22e">free</span>;

<span style="color:#75715e">/// more on wavetables
</span><span style="color:#75715e">//load a wavetable and open the collection to a SoundFile
</span><span style="color:#75715e"></span><span style="color:#a6e22e">w</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">SoundFile</span>.<span style="color:#a6e22e">openRead</span>(<span style="color:#e6db74">&#34;~/wavetables/WT01.aif&#34;</span>.<span style="color:#a6e22e">standardizePath</span>);


<span style="color:#75715e">// Create an array to load the data
</span><span style="color:#75715e"></span><span style="color:#a6e22e">a</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">FloatArray</span>.<span style="color:#a6e22e">newClear</span>(<span style="color:#a6e22e">w</span>.<span style="color:#a6e22e">numFrames</span>);
<span style="color:#a6e22e">w</span>.<span style="color:#a6e22e">readData</span>(<span style="color:#a6e22e">a</span>);
<span style="color:#a6e22e">w</span>.<span style="color:#a6e22e">close</span>;
<span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">size</span>;

<span style="color:#75715e">// resamp the table to have a pow of 2 (bigger to avoid aliassing)
</span><span style="color:#75715e">// in case of many diff samples choose a bigger pow of 2
</span><span style="color:#75715e"></span>
<span style="color:#a6e22e">a</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">resamp1</span>(<span style="color:#ae81ff">256</span>);

<span style="color:#75715e">// Convert the array to a Signal
</span><span style="color:#75715e"></span><span style="color:#a6e22e">a</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">as</span>(<span style="color:#a6e22e">Signal</span>);
<span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">size</span>;

<span style="color:#75715e">// Convert it to a Wavetable
</span><span style="color:#75715e"></span><span style="color:#a6e22e">a</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">asWavetable</span>;
<span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">size</span>; <span style="color:#75715e">//wavetable format is signal.size * 2
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// load the collection into a buffer
</span><span style="color:#75715e"></span>
<span style="color:#a6e22e">b</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Buffer</span>.<span style="color:#a6e22e">loadCollection</span>(<span style="color:#a6e22e">s</span>, <span style="color:#a6e22e">a</span>);
<span style="color:#75715e">//play the buffer and loop
</span><span style="color:#75715e"></span><span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">b</span>.<span style="color:#a6e22e">play</span>(<span style="color:#a6e22e">loop</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>);
<span style="color:#a6e22e">x</span>.<span style="color:#a6e22e">free</span>;
<span style="color:#75715e">//use Osc interpolating wavetable oscillator. see also VOsc3 and more on Help-&gt;UGens&gt;Generators&gt;Deterministic
</span><span style="color:#75715e">//Osc.ar(table, freq, phase, mul, add)
</span><span style="color:#75715e"></span><span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> { <span style="color:#a6e22e">LPF</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#a6e22e">Osc</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#a6e22e">b</span>, <span style="color:#a6e22e">MouseX</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#ae81ff">440</span>, <span style="color:#ae81ff">880</span>)), <span style="color:#a6e22e">SampleRate</span>.<span style="color:#a6e22e">ir</span><span style="color:#960050;background-color:#1e0010">/2-1000) }.play;</span>

<span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">freqscope</span>

<span style="color:#a6e22e">x</span>.<span style="color:#a6e22e">free</span>;

<span style="color:#75715e">//see Ball, TBall, Spring Ugens on Help
</span><span style="color:#75715e">//TBall
</span><span style="color:#75715e">//Example:1
</span><span style="color:#75715e">// mouse x controls switch of level
</span><span style="color:#75715e">// mouse y controls gravity
</span><span style="color:#75715e"></span>(
{
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">t</span>, <span style="color:#a6e22e">sf</span>;
    <span style="color:#a6e22e">sf</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">K2A</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#a6e22e">MouseX</span>.<span style="color:#a6e22e">kr</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0.5</span>) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>;
    <span style="color:#a6e22e">t</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">TBall</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#a6e22e">sf</span>, <span style="color:#a6e22e">MouseY</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#ae81ff">0.01</span>, <span style="color:#ae81ff">1.0</span>, <span style="color:#ae81ff">1</span>), <span style="color:#ae81ff">0.01</span>);
    <span style="color:#a6e22e">Pan2</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#a6e22e">Ringz</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#a6e22e">t</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">1200</span>, <span style="color:#ae81ff">0.1</span>), <span style="color:#a6e22e">MouseX</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">1</span>));
}.<span style="color:#a6e22e">play</span>;
)


<span style="color:#75715e">//spring
</span><span style="color:#75715e"></span>

(
{
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">inforce</span>, <span style="color:#a6e22e">outforce</span>, <span style="color:#a6e22e">freq</span>, <span style="color:#a6e22e">k</span>, <span style="color:#a6e22e">d</span>;
    <span style="color:#a6e22e">inforce</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">K2A</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#a6e22e">MouseButton</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">0</span>)) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>;
    <span style="color:#a6e22e">k</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">MouseY</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#ae81ff">0.1</span>, <span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">1</span>);
    <span style="color:#a6e22e">d</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">MouseX</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#ae81ff">0.00001</span>, <span style="color:#ae81ff">0.1</span>, <span style="color:#ae81ff">1</span>);
    <span style="color:#a6e22e">outforce</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Spring</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#a6e22e">inforce</span>, <span style="color:#a6e22e">k</span>, <span style="color:#a6e22e">d</span>);
    <span style="color:#a6e22e">freq</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">outforce</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">400</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">500</span>; <span style="color:#75715e">// modulate frequency with the force
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">SinOsc</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#a6e22e">freq</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0.2</span>)
}.<span style="color:#a6e22e">play</span>;
)
</code></pre></div>
<p><strong>Creating textures with wavetables</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">/*
</span><span style="color:#75715e">BA 182202
</span><span style="color:#75715e">Sound Textures examples
</span><span style="color:#75715e">Objective: Experiment with table oscilators to create sound textures
</span><span style="color:#75715e">*/</span>

<span style="color:#75715e">// COsc wavetable example 1:
</span><span style="color:#75715e"></span>
(
<span style="color:#a6e22e">b</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Buffer</span>.<span style="color:#a6e22e">alloc</span>(<span style="color:#a6e22e">s</span>, <span style="color:#ae81ff">512</span>, <span style="color:#ae81ff">1</span>, {<span style="color:#f92672">|</span> <span style="color:#a6e22e">buf</span> <span style="color:#f92672">|</span> <span style="color:#a6e22e">buf</span>.<span style="color:#a6e22e">sine1Msg</span>(<span style="color:#ae81ff">1.0</span><span style="color:#960050;background-color:#1e0010">/[1,2,3,4,5,6,7,8,9,10])});</span>
{ <span style="color:#a6e22e">LPF</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#a6e22e">COsc</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#a6e22e">b</span>.<span style="color:#a6e22e">bufnum</span>, [<span style="color:#ae81ff">200.</span><span style="color:#a6e22e">rand</span>.<span style="color:#a6e22e">postln</span>, <span style="color:#ae81ff">1000.</span><span style="color:#a6e22e">rand</span>], <span style="color:#ae81ff">0.7</span>, <span style="color:#ae81ff">0.25</span>)<span style="color:#f92672">*</span><span style="color:#a6e22e">Saw</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#ae81ff">440</span><span style="color:#f92672">+</span><span style="color:#ae81ff">444.</span><span style="color:#a6e22e">rand</span>, <span style="color:#a6e22e">WhiteNoise</span>.<span style="color:#a6e22e">kr</span>(<span style="color:#ae81ff">0.7</span>)), <span style="color:#ae81ff">4000</span>) }.<span style="color:#a6e22e">play</span>;
)
</code></pre></div>
<p><em>Physical Modeling</em> example by James McCartney</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">// synthetic piano patch (James McCartney)
</span><span style="color:#75715e"></span>(
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">n</span>;

<span style="color:#a6e22e">n</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">6</span>;	<span style="color:#75715e">// number of keys playing
</span><span style="color:#75715e"></span>
<span style="color:#a6e22e">play</span>({

	<span style="color:#a6e22e">Mix</span>.<span style="color:#a6e22e">ar</span>(Array.<span style="color:#a6e22e">fill</span>(<span style="color:#a6e22e">n</span>, {	<span style="color:#75715e">// mix an array of notes
</span><span style="color:#75715e"></span>
		<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">delayTime</span>, <span style="color:#a6e22e">pitch</span>, <span style="color:#a6e22e">detune</span>, <span style="color:#a6e22e">strike</span>, <span style="color:#a6e22e">hammerEnv</span>, <span style="color:#a6e22e">hammer</span>;



		<span style="color:#75715e">// calculate delay based on a random note
</span><span style="color:#75715e"></span>
		<span style="color:#a6e22e">pitch</span> <span style="color:#f92672">=</span> (<span style="color:#ae81ff">36</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">54.</span><span style="color:#a6e22e">rand</span>); 

		<span style="color:#a6e22e">strike</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Impulse</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#ae81ff">0.1</span><span style="color:#f92672">+</span><span style="color:#ae81ff">0.4</span>.<span style="color:#a6e22e">rand</span>, <span style="color:#ae81ff">2</span><span style="color:#a6e22e">pi</span>.<span style="color:#a6e22e">rand</span>, <span style="color:#ae81ff">0.1</span>); <span style="color:#75715e">// random period for each key
</span><span style="color:#75715e"></span>
		<span style="color:#a6e22e">hammerEnv</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Decay2</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#a6e22e">strike</span>, <span style="color:#ae81ff">0.008</span>, <span style="color:#ae81ff">0.04</span>); <span style="color:#75715e">// excitation envelope
</span><span style="color:#75715e"></span>
		<span style="color:#a6e22e">Pan2</span>.<span style="color:#a6e22e">ar</span>(

			<span style="color:#75715e">// array of 3 strings per note
</span><span style="color:#75715e"></span>
			<span style="color:#a6e22e">Mix</span>.<span style="color:#a6e22e">ar</span>(Array.<span style="color:#a6e22e">fill</span>(<span style="color:#ae81ff">3</span>, { <span style="color:#a6e22e">arg</span> <span style="color:#a6e22e">i</span>;

				<span style="color:#75715e">// detune strings, calculate delay time :
</span><span style="color:#75715e"></span>
				<span style="color:#a6e22e">detune</span> <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">#</span>[<span style="color:#f92672">-</span><span style="color:#ae81ff">0.05</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0.04</span>].<span style="color:#a6e22e">at</span>(<span style="color:#a6e22e">i</span>);

				<span style="color:#a6e22e">delayTime</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> <span style="color:#960050;background-color:#1e0010">/ (pitch + detune).midicps;</span>

				<span style="color:#75715e">// each string gets own exciter :
</span><span style="color:#75715e"></span>
				<span style="color:#a6e22e">hammer</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">LFNoise2</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#ae81ff">3000</span>, <span style="color:#a6e22e">hammerEnv</span>); <span style="color:#75715e">// 3000 Hz was chosen by ear..
</span><span style="color:#75715e"></span>
				<span style="color:#a6e22e">CombL</span>.<span style="color:#a6e22e">ar</span>(<span style="color:#a6e22e">hammer</span>,		<span style="color:#75715e">// used as a string resonator
</span><span style="color:#75715e"></span>
					<span style="color:#a6e22e">delayTime</span>, 		<span style="color:#75715e">// max delay time
</span><span style="color:#75715e"></span>
					<span style="color:#a6e22e">delayTime</span>,			<span style="color:#75715e">// actual delay time
</span><span style="color:#75715e"></span>
					<span style="color:#ae81ff">6</span>) 				<span style="color:#75715e">// decay time of string
</span><span style="color:#75715e"></span>
			})),

			(<span style="color:#a6e22e">pitch</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">36</span>)<span style="color:#e6db74">/27 - 1 /</span><span style="color:#960050;background-color:#1e0010">/ pan position: lo notes left, hi notes right</span>

		)

	}))

})

)
</code></pre></div>
<p>"Waveguide synthesis is a set of extensions in the direction of accurate physical modeling while maintaining the computational simplicity reminiscent of the Karplus-Strong algorithm. It most efficiently models one-dimensional waveguides, such as strings and bores, yet it can be coupled in a rigorous way to the more general physical models in Cordis-Anima and" <a href="https://ccrma.stanford.edu/~jos/kna/Taxonomy_Digital_Synthesis_Techniques.html" title="1">1</a>]</p>


    
    
        <div class="chevrons">
    <div id="navigation">
<a class="nav nav-prev" href="/dss/sc-examples/008granularsynthesis/" title="Granular Synthesis"> <i class="fa fa-chevron-left"></i><label>Granular Synthesis</label></a>
    <a class="nav nav-next" href="/dss/sc-examples/001supercollider/" title="SuperCollider" style="margin-right: 0px;"><label>SuperCollider</label><i class="fa fa-chevron-right"></i></a></div>
  </div>

  </section>
</article>

<footer>

<div class="footline">
    

    

  

    <div class="github-link">
      <a href="https://github.com/vjeantet/hugo-theme-docdock/edit/master/exampleSite/content/SC-Examples/009SynthesisTec.el.org" target="blank"><i class="fa fa-code-fork"></i>
        </a>
    </div>
  </div>


	<div>


  
    
  



	</div>
</footer>

<script src="/dss/js/clipboard.min.js"></script>

<link href="/dss/css/featherlight.min.css" rel="stylesheet">
<script src="/dss/js/featherlight.min.js"></script>



<script src="/dss/theme-flex/script.js"></script>

    

    
    

    
  </body>
</html>